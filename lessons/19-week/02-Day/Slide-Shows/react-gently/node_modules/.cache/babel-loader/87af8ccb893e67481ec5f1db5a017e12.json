{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _jsx2 = require('babel-runtime/helpers/jsx');\n\nvar _jsx3 = _interopRequireDefault(_jsx2);\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _class, _temp2;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _slides = require('../utils/slides');\n\nvar _presenterComponents = require('./presenter-components');\n\nvar _time = require('./time');\n\nvar _time2 = _interopRequireDefault(_time);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar _ref = (0, _jsx3.default)(_presenterComponents.EndHeader, {}, void 0, 'END');\n\nvar Presenter = (_temp2 = _class = function (_Component) {\n  (0, _inherits3.default)(Presenter, _Component);\n\n  function Presenter() {\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, Presenter);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {\n      notes: {}\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  Presenter.prototype.getChildContext = function getChildContext() {\n    return {\n      updateNotes: this.updateNotes.bind(this)\n    };\n  };\n\n  Presenter.prototype.getCurrentSlide = function getCurrentSlide() {\n    return this.context.store.getState().route.slide;\n  };\n\n  Presenter.prototype.updateNotes = function updateNotes(newNotes) {\n    var slide = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var notes = (0, _extends3.default)({}, this.state.notes);\n    notes[slide || this.getCurrentSlide()] = newNotes;\n    this.setState({\n      notes: notes\n    });\n  };\n\n  Presenter.prototype._getSlideByIndex = function _getSlideByIndex(index) {\n    return (0, _slides.getSlideByIndex)(_react.Children.toArray(this.props.slides), this.props.slideReference, index);\n  };\n\n  Presenter.prototype._renderMainSlide = function _renderMainSlide() {\n    var _props = this.props,\n        slideIndex = _props.slideIndex,\n        hash = _props.hash,\n        lastSlideIndex = _props.lastSlideIndex;\n\n    var child = this._getSlideByIndex(slideIndex);\n\n    var presenterStyle = {\n      position: 'relative'\n    };\n    return (0, _react.cloneElement)(child, {\n      dispatch: this.props.dispatch,\n      key: slideIndex,\n      hash: hash,\n      export: this.props.route.params.indexOf('export') !== -1,\n      print: this.props.route.params.indexOf('print') !== -1,\n      slideIndex: slideIndex,\n      lastSlideIndex: lastSlideIndex,\n      transition: [],\n      transitionDuration: 0,\n      presenterStyle: presenterStyle\n    });\n  };\n\n  Presenter.prototype._renderNextSlide = function _renderNextSlide() {\n    var _props2 = this.props,\n        slideIndex = _props2.slideIndex,\n        lastSlideIndex = _props2.lastSlideIndex;\n    var presenterStyle = {\n      position: 'relative'\n    };\n\n    var child = this._getSlideByIndex(slideIndex + 1);\n\n    return child ? (0, _react.cloneElement)(child, {\n      dispatch: this.props.dispatch,\n      export: this.props.route.params.indexOf('export') !== -1,\n      print: this.props.route.params.indexOf('print') !== -1,\n      key: slideIndex + 1,\n      hash: child.props.id || slideIndex + 1,\n      slideIndex: slideIndex + 1,\n      lastSlideIndex: lastSlideIndex,\n      transition: [],\n      transitionDuration: 0,\n      presenterStyle: presenterStyle,\n      appearOff: true\n    }) : _ref;\n  };\n\n  Presenter.prototype._renderNotes = function _renderNotes() {\n    var notes = void 0;\n    var currentSlide = this.getCurrentSlide();\n\n    if (this.state.notes[currentSlide]) {\n      notes = this.state.notes[currentSlide];\n    } else {\n      var child = this._getSlideByIndex(this.props.slideIndex);\n\n      notes = child.props.notes;\n    }\n\n    if (!notes) {\n      return false;\n    }\n\n    if (typeof notes === 'string') {\n      return (0, _jsx3.default)('div', {\n        dangerouslySetInnerHTML: {\n          __html: notes\n        }\n      });\n    }\n\n    return (0, _jsx3.default)('div', {}, void 0, notes);\n  };\n\n  Presenter.prototype.render = function render() {\n    return (0, _jsx3.default)(_presenterComponents.PresenterContent, {}, void 0, (0, _jsx3.default)(_presenterComponents.HeaderContainer, {}, void 0, (0, _jsx3.default)(_presenterComponents.SlideInfo, {}, void 0, 'Slide', ' ', this.props.slideIndex + 1, ' ', 'of', ' ', this.props.slideReference.length), (0, _jsx3.default)(_time2.default, {\n      timer: this.props.timer\n    })), (0, _jsx3.default)(_presenterComponents.ContentContainer, {}, void 0, (0, _jsx3.default)(_presenterComponents.PreviewPane, {}, void 0, (0, _jsx3.default)(_presenterComponents.PreviewCurrentSlide, {\n      className: 'spectacle-presenter-main'\n    }, void 0, this._renderMainSlide()), (0, _jsx3.default)(_presenterComponents.PreviewNextSlide, {}, void 0, this._renderNextSlide())), (0, _jsx3.default)(_presenterComponents.Notes, {}, void 0, this._renderNotes())));\n  };\n\n  return Presenter;\n}(_react.Component), _class.childContextTypes = {\n  updateNotes: _propTypes2.default.func\n}, _temp2);\nexports.default = Presenter;\nPresenter.contextTypes = {\n  styles: _propTypes2.default.object,\n  store: _propTypes2.default.object.isRequired\n};","map":null,"metadata":{},"sourceType":"script"}