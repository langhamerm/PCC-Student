{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _jsx2 = require('babel-runtime/helpers/jsx');\n\nvar _jsx3 = _interopRequireDefault(_jsx2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require('react-dom');\n\nvar _findKey = require('lodash/findKey');\n\nvar _findKey2 = _interopRequireDefault(_findKey);\n\nvar _reactRedux = require('react-redux');\n\nvar _victoryCore = require('victory-core');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar Appear = function (_Component) {\n  (0, _inherits3.default)(Appear, _Component);\n\n  function Appear() {\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, Appear);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {\n      active: false\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  Appear.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    var state = nextProps.fragment;\n    var slide = this.props.route.slide;\n    var fragment = (0, _reactDom.findDOMNode)(this.fragmentRef);\n    var key = (0, _findKey2.default)(state.fragments[slide], {\n      id: parseInt(fragment.dataset.fid)\n    });\n    var shouldDisableAnimation = this.props.route.params.indexOf('export') !== -1 || this.props.route.params.indexOf('overview') !== -1;\n\n    if (shouldDisableAnimation) {\n      this.setState({\n        active: true\n      });\n      return;\n    }\n\n    if (slide in state.fragments && state.fragments[slide].hasOwnProperty(key)) {\n      var active = state.fragments[slide][key].visible;\n      this.setState({\n        active: active\n      });\n    }\n  };\n\n  Appear.prototype.render = function render() {\n    var _this2 = this;\n\n    var child = _react2.default.Children.only(this.props.children);\n\n    var endValue = this.state.active ? 1 : 0;\n    var transitionDuration = this.props.transitionDuration;\n    return (0, _jsx3.default)(_victoryCore.VictoryAnimation, {\n      data: {\n        opacity: endValue\n      },\n      duration: transitionDuration,\n      easing: 'quadInOut'\n    }, void 0, function (_ref) {\n      var opacity = _ref.opacity;\n      return _react2.default.cloneElement(child, {\n        className: 'fragment',\n        style: (0, _extends3.default)({}, child.props.style, {\n          opacity: opacity\n        }),\n        ref: function ref(f) {\n          _this2.fragmentRef = f;\n        }\n      });\n    });\n  };\n\n  return Appear;\n}(_react.Component);\n\nAppear.defaultProps = {\n  transitionDuration: 300\n};\nAppear.contextTypes = {\n  export: _propTypes2.default.bool,\n  overview: _propTypes2.default.bool,\n  slide: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.string])\n};\nexports.default = (0, _reactRedux.connect)(function (state) {\n  return state;\n})(Appear);","map":null,"metadata":{},"sourceType":"script"}