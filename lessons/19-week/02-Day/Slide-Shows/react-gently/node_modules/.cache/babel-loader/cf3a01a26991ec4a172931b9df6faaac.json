{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _class;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _base = require('../utils/base');\n\nvar _radium = require('radium');\n\nvar _radium2 = _interopRequireDefault(_radium);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar Heading = (0, _radium2.default)(_class = function (_Component) {\n  (0, _inherits3.default)(Heading, _Component);\n\n  function Heading() {\n    (0, _classCallCheck3.default)(this, Heading);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _Component.call(this));\n\n    _this.resize = _this.resize.bind(_this);\n    _this.state = {\n      scale: 1,\n      height: 16\n    };\n    return _this;\n  }\n\n  Heading.prototype.componentDidMount = function componentDidMount() {\n    this.resize();\n    window.addEventListener('load', this.resize);\n    window.addEventListener('resize', this.resize);\n  };\n\n  Heading.prototype.componentWillReceiveProps = function componentWillReceiveProps() {\n    this.resize();\n  };\n\n  Heading.prototype.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener('load', this.resize);\n    window.removeEventListener('resize', this.resize);\n  };\n\n  Heading.prototype.resize = function resize() {\n    if (this.props.fit) {\n      var text = this.textRef;\n      var container = this.containerRef;\n      text.style.display = 'inline-block';\n      var scale = container.offsetWidth / text.offsetWidth;\n      var height = text.offsetHeight * scale || 0;\n      text.style.display = 'block';\n      this.setState({\n        scale: scale,\n        height: height\n      });\n    }\n  };\n\n  Heading.prototype.render = function render() {\n    var _this2 = this;\n\n    var _props = this.props,\n        size = _props.size,\n        lineHeight = _props.lineHeight,\n        fit = _props.fit,\n        style = _props.style,\n        children = _props.children;\n    var Tag = 'H' + size;\n    var styles = {\n      container: {\n        display: 'block',\n        width: '100%',\n        height: this.state.height\n      },\n      text: {\n        fontSize: 16,\n        display: 'block',\n        margin: '0',\n        padding: '0',\n        lineHeight: lineHeight,\n        transform: 'scale(' + this.state.scale + ')',\n        transformOrigin: 'center top'\n      },\n      nonFit: {\n        lineHeight: lineHeight\n      }\n    };\n    var typefaceStyle = this.context.typeface || {};\n    return fit ? _react2.default.createElement('div', {\n      className: this.props.className,\n      ref: function ref(c) {\n        _this2.containerRef = c;\n      },\n      style: [this.context.styles.components.heading['h' + size], _base.getStyles.call(this), styles.container]\n    }, _react2.default.createElement('span', {\n      ref: function ref(t) {\n        _this2.textRef = t;\n      },\n      style: [styles.text, style, typefaceStyle]\n    }, children)) : (0, _react.createElement)(Tag, {\n      className: this.props.className,\n      style: [this.context.styles.components.heading['h' + size], _base.getStyles.call(this), styles.nonFit, style, typefaceStyle]\n    }, children);\n  };\n\n  return Heading;\n}(_react.Component)) || _class;\n\nexports.default = Heading;\nHeading.defaultProps = {\n  size: 1,\n  lineHeight: 1\n};\nHeading.contextTypes = {\n  styles: _propTypes2.default.object,\n  store: _propTypes2.default.object,\n  typeface: _propTypes2.default.object\n};","map":null,"metadata":{},"sourceType":"script"}